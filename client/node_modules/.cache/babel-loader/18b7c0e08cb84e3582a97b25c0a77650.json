{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sujungchoi/Desktop/Coding/MERN/Full_Stack_MERN/planthood/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link,navigate}from'@reach/router';import axios from'axios';import PlantForm from'../components/PlantForm';import'./Create.css';import Header from'../components/Header';// eslint-disable-next-line\nexport default(function(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),plants=_useState2[0],setPlants=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var createPlant=function createPlant(plant){axios.post('http://localhost:8050/api/plants/new',plant).then(function(res){console.log(res);navigate(\"/\");}).catch(function(err){console.log(err);var errorResponse=err.response.data.errors;var errorArr=[];for(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];errorArr.push(errorResponse[key].message);}setErrors(errorArr);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"plantForm\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add a new plant !\"}),/*#__PURE__*/_jsx(PlantForm,{onSubmitProp:createPlant,errors:errors})]})]});});","map":{"version":3,"sources":["/Users/sujungchoi/Desktop/Coding/MERN/Full_Stack_MERN/planthood/client/src/views/Create.jsx"],"names":["React","useState","Link","navigate","axios","PlantForm","Header","plants","setPlants","errors","setErrors","createPlant","plant","post","then","res","console","log","catch","err","errorResponse","response","data","errorArr","Object","keys","key","push","message"],"mappings":"qRAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,eAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CAEA;AACA,eAAe,UAAM,eACWL,QAAQ,CAAC,EAAD,CADnB,wCACVM,MADU,eACFC,SADE,8BAEWP,QAAQ,CAAC,EAAD,CAFnB,yCAEVQ,MAFU,eAEFC,SAFE,eAIjB,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC3BR,KAAK,CAACS,IAAN,CAAW,sCAAX,CAAmDD,KAAnD,EACKE,IADL,CACU,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAZ,QAAQ,CAAC,GAAD,CAAR,CACH,CAJL,EAKKe,KALL,CAKW,SAAAC,GAAG,CAAI,CACVH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACA,GAAMC,CAAAA,aAAa,CAAGD,GAAG,CAACE,QAAJ,CAAaC,IAAb,CAAkBb,MAAxC,CACA,GAAMc,CAAAA,QAAQ,CAAG,EAAjB,CACA,0BAAkBC,MAAM,CAACC,IAAP,CAAYL,aAAZ,CAAlB,6BAA8C,CAAzC,GAAMM,CAAAA,GAAG,iBAAT,CACDH,QAAQ,CAACI,IAAT,CAAcP,aAAa,CAACM,GAAD,CAAb,CAAmBE,OAAjC,EACH,CACDlB,SAAS,CAACa,QAAD,CAAT,CACH,CAbL,EAcH,CAfD,CAkBA,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,KAAC,MAAD,IADJ,cAEI,aAAK,SAAS,CAAC,WAAf,wBACI,yCADJ,cAGI,KAAC,SAAD,EAAW,YAAY,CAAEZ,WAAzB,CAAsC,MAAM,CAAEF,MAA9C,EAHJ,GAFJ,GADJ,CAUH,CAhCD","sourcesContent":["import React, { useState } from 'react';\nimport { Link, navigate } from '@reach/router';\nimport axios from 'axios';\nimport PlantForm from '../components/PlantForm';\nimport './Create.css';\nimport Header from '../components/Header';\n\n// eslint-disable-next-line\nexport default () => {\n    const [plants, setPlants] = useState([]);\n    const [errors, setErrors] = useState([]);\n\n    const createPlant = (plant) => {\n        axios.post('http://localhost:8050/api/plants/new', plant)\n            .then(res => {\n                console.log(res)\n                navigate(\"/\")\n            })\n            .catch(err => {\n                console.log(err)\n                const errorResponse = err.response.data.errors;\n                const errorArr = [];\n                for (const key of Object.keys(errorResponse)) {\n                    errorArr.push(errorResponse[key].message)\n                }\n                setErrors(errorArr);\n            })\n    }\n\n\n    return (\n        <div className=\"wrapper\">\n            <Header />\n            <div className=\"plantForm\">\n                <h2>Add a new plant !</h2>\n                {/* {errors.map((err, index) => <p style={{\"color\": \"orange\"}} key={index}> {err} </p>)} */}\n                <PlantForm onSubmitProp={createPlant} errors={errors} />\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}